name: Publish to Pub.dev

# æµç¨‹è§¦å‘æ—¶æœºï¼Œå½“æœ‰æ ‡ç­¾åˆ›å»ºæ—¶è§¦å‘ï¼Œå¦‚ v1.0.0ã€‚å½“ç„¶ä¹Ÿå¯ä»¥é€‰æ‹©åˆ«çš„è§¦å‘æ—¶æœºï¼Œå¦‚ pushï¼Œrelease ç­‰
on: create

jobs:
  publishing:
    runs-on: ubuntu-latest
    steps:
      - run: echo "ğŸ‰ The job was automatically triggered by a ${{ github.event_name }} event."
      - run: echo "ğŸ” The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
      # æ‹‰å–ä»“åº“ä»£ç 
      - name: Check out repository code
        uses: actions/checkout@v2
      - run: echo "ğŸ’¡ The ${{ github.repository }} repository has been cloned to the runner."
      - run: echo "ğŸ–¥ï¸ The workflow is now ready to test your code on the runner."
      # å‘å¸ƒæ’ä»¶
      - run: echo "ğŸ’¡ to publish to Pub.dev."
      - name: Dart and Flutter Package Publisher
        uses: k-paxian/dart-package-publisher@master
        with:
          # è®¾ç½®å‘å¸ƒæ’ä»¶éœ€è¦çš„ Token
          accessToken: ${{ secrets.OAUTH_ACCESS_TOKEN }}
          refreshToken: ${{ secrets.OAUTH_REFRESH_TOKEN }}
